<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Prompt Master 12</title>
    <style>
        :root {
            --bg: #0b0c10;
            --card-bg: #1f2833;
            --primary: #66fcf1;
            --gold: #f1c40f;
            --text: #c5c6c7;
        }

        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            display: flex; flex-direction: column; align-items: center;
            padding: 20px; margin: 0; min-height: 100vh;
            -webkit-tap-highlight-color: transparent; /* –£–±–∏—Ä–∞–µ—Ç —Å–∏–Ω—é—é —Ä–∞–º–∫—É –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ Android */
        }

        .header { text-align: center; margin-bottom: 20px; user-select: none; }
        
        /* –ü—Ä–æ–≥—Ä–µ—Å—Å */
        .progress-box { width: 280px; margin: 10px auto; }
        .bar-bg { background: #222; height: 10px; border-radius: 5px; overflow: hidden; }
        .bar-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.8s; }

        /* –°–µ—Ç–∫–∞ */
        .grid {
            display: grid; grid-template-columns: repeat(3, 1fr);
            gap: 12px; width: 100%; max-width: 400px;
        }

        .card { aspect-ratio: 3/4; perspective: 1000px; user-select: none; }
        .card-inner {
            width: 100%; height: 100%; position: relative;
            transform-style: preserve-3d; transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card.is-flipped .card-inner { transform: rotateY(180deg); }

        .side {
            position: absolute; width: 100%; height: 100%;
            backface-visibility: hidden; border-radius: 12px;
            display: flex; flex-direction: column; align-items: center;
            justify-content: center; padding: 10px; box-sizing: border-box;
            border: 1px solid #45a29e;
        }

        .front { background: var(--card-bg); color: var(--primary); font-weight: bold; }
        .back { background: #fff; color: #000; transform: rotateY(180deg); }

        .prompt-box {
            font-size: 10px; line-height: 1.2; margin-bottom: 10px;
            filter: blur(5px); transition: filter 0.4s;
        }
        .revealed .prompt-box { filter: blur(0); }

        .btn {
            background: #000; color: #fff; border: none; padding: 7px;
            border-radius: 5px; font-size: 9px; cursor: pointer; width: 100%;
            font-weight: bold;
        }

        .card.locked { opacity: 0.25; filter: grayscale(1); pointer-events: none; }

        /* –§–∏–Ω–∞–ª */
        #finish {
            display: none; margin-top: 30px; padding: 20px;
            background: #1f2833; border: 2px solid var(--gold);
            border-radius: 15px; text-align: center; width: 100%; max-width: 320px;
            animation: fadeIn 1s;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .cta {
            display: block; margin-top: 15px; padding: 15px;
            background: var(--gold); color: #000; text-decoration: none;
            font-weight: bold; border-radius: 8px;
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>PROMPT MASTER</h1>
        <div class="progress-box">
            <div class="bar-bg"><div class="bar-fill" id="bar"></div></div>
            <div style="font-size:12px; margin-top:5px;" id="pText">0/12 –ü—Ä–æ–π–¥–µ–Ω–æ</div>
        </div>
    </div>

    <div class="grid" id="grid"></div>

    <div id="finish">
        <h2 style="color:var(--gold); margin:0;">–ü–û–ë–ï–î–ê! üèÜ</h2>
        <p style="font-size:13px;">–¢–µ–ø–µ—Ä—å —Ç—ã –º–∞—Å—Ç–µ—Ä –ø—Ä–æ–º–ø—Ç–æ–≤. –ì–æ—Ç–æ–≤ –∫ –ø–æ–ª–Ω–æ–π –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π?</p>
        <a href="https://t.me/ril404" class="cta">–ó–ê–ë–†–ê–¢–¨ 500+ –ü–†–û–ú–ü–¢–û–í</a>
    </div>

    <script>
        const PROMPTS = [
            "–î–µ–π—Å—Ç–≤—É–π –∫–∞–∫ —Ä–µ–¥–∞–∫—Ç–æ—Ä...", "–ò–¥–µ–∏ –¥–ª—è —Å—Ç–æ—Ä–∏—Å...", "–ö–æ–¥ –Ω–∞ Python...", 
            "–ù–µ–π–º–∏–Ω–≥ –±—Ä–µ–Ω–¥–∞...", "–û–±—ä—è—Å–Ω–∏ –∫–≤–∞–Ω—Ç–æ–≤—É—é...", "–ü–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫...",
            "–°—Ü–µ–Ω–∞—Ä–∏–π —Ä–æ–ª–∏–∫–∞...", "–ü–µ—Ä–µ—Å–∫–∞–∑ –∫–Ω–∏–≥–∏...", "–ö–∞—Ä—å–µ—Ä–Ω—ã–π –∫–æ—É—á...", 
            "–†–µ—Ü–µ–ø—Ç —É–∂–∏–Ω–∞...", "Email-—Ä–∞—Å—Å—ã–ª–∫–∞...", "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞—Ç—å–∏..."
        ];

        let count = parseInt(localStorage.getItem('unlockedCount')) || 0;
        let lastDate = localStorage.getItem('lastUnlockDate') || "";
        const today = new Date().toDateString();

        function update() {
            document.getElementById('bar').style.width = (count / 12 * 100) + "%";
            document.getElementById('pText').innerText = count + "/12 –ü—Ä–æ–π–¥–µ–Ω–æ";
            if (count >= 12) document.getElementById('finish').style.display = 'block';
        }

        const grid = document.getElementById('grid');
        for (let i = 1; i <= 12; i++) {
            const card = document.createElement('div');
            const isOpened = i <= count;
            const canOpen = (i === count + 1 && lastDate !== today);
            
            card.className = `card ${isOpened ? 'is-flipped revealed' : (canOpen ? '' : 'locked')}`;
            card.innerHTML = `
                <div class="card-inner">
                    <div class="side front">–î–ï–ù–¨ ${i}</div>
                    <div class="side back">
                        <div class="prompt-box" id="p-${i}">${PROMPTS[i-1]}</div>
                        <button class="btn" id="btn-${i}" onclick="copyPrompt(event, ${i})">–ö–û–ü–ò–†–û–í–ê–¢–¨</button>
                    </div>
                </div>
            `;
            if (canOpen) card.onclick = () => {
                card.classList.add('is-flipped');
                count = i; lastDate = today;
                localStorage.setItem('unlockedCount', count);
                localStorage.setItem('lastUnlockDate', lastDate);
                setTimeout(update, 600);
            };
            grid.appendChild(card);
        }

        function copyPrompt(e, i) {
            e.stopPropagation();
            const text = document.getElementById(`p-${i}`).innerText;
            const btn = document.getElementById(`btn-${i}`);
            
            // –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(text).then(() => successCopy(btn, i));
            } else {
                // –ó–∞–ø–∞—Å–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
                const el = document.createElement('textarea');
                el.value = text; document.body.appendChild(el);
                el.select(); document.execCommand('copy');
                document.body.removeChild(el);
                successCopy(btn, i);
            }
        }

        function successCopy(btn, i) {
            document.getElementById(`p-${i}`).parentElement.parentElement.parentElement.classList.add('revealed');
            const original = btn.innerText;
            btn.innerText = "–ì–û–¢–û–í–û!"; btn.style.background = "#238636";
            setTimeout(() => { btn.innerText = original; btn.style.background = "#000"; }, 2000);
        }

        update();
    </script>
</body>
</html>
